<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Veeva SRE - DevOps Assignment</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="nav-container">
                <h1 class="nav-title">Veeva SRE Assignment</h1>
                <div class="nav-links">
                    <a href="#dashboard">Dashboard</a>
                    <a href="#monitoring">Monitoring</a>
                    <a href="#backend">Backend</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="main-content">
        <section class="hero">
            <div class="container">
                <h2>DevOps/SRE Cloud Engineer Assignment</h2>
                <p>Welcome to the Veeva SRE assignment demonstrating EKS deployment with monitoring</p>
                <div class="status-cards">
                    <div class="card">
                        <h3>Frontend Status</h3>
                        <span class="status-indicator" id="frontend-status">Loading...</span>
                    </div>
                    <div class="card">
                        <h3>Backend Status</h3>
                        <span class="status-indicator" id="backend-status">Loading...</span>
                    </div>
                    <div class="card">
                        <h3>Cluster Status</h3>
                        <span class="status-indicator" id="cluster-status">Active</span>
                    </div>
                </div>
            </div>
        </section>

        <section class="dashboard" id="dashboard">
            <div class="container">
                <h2>System Dashboard</h2>
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>Infrastructure</h3>
                        <ul>
                            <li>EKS Cluster: <span id="cluster-name">veeva-sre-cluster</span></li>
                            <li>Nodes: <span id="node-count">2</span></li>
                            <li>Pods: <span id="pod-count">Loading...</span></li>
                            <li>Services: <span id="service-count">Loading...</span></li>
                        </ul>
                    </div>
                    <div class="dashboard-card">
                        <h3>Applications</h3>
                        <ul>
                            <li>Frontend: Nginx (Active)</li>
                            <li>Backend: Tomcat (Active)</li>
                            <li>Database: N/A</li>
                            <li>Cache: N/A</li>
                        </ul>
                    </div>
                    <div class="dashboard-card">
                        <h3>Monitoring</h3>
                        <ul>
                            <li>Prometheus: <span id="prometheus-status">Active</span></li>
                            <li>Grafana: <span id="grafana-status">Active</span></li>
                            <li>Alerts: <span id="alert-count">0</span></li>
                            <li>Uptime: <span id="uptime">99.9%</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section class="api-test" id="backend">
            <div class="container">
                <h2>Backend API Test</h2>
                <div class="api-controls">
                    <button onclick="testBackendHealth()">Test Health Endpoint</button>
                    <button onclick="testBackendInfo()">Test Info Endpoint</button>
                    <button onclick="testBackendMetrics()">Test Metrics Endpoint</button>
                </div>
                <div class="api-response">
                    <h3>API Response:</h3>
                    <pre id="api-output">Click a button to test the backend API</pre>
                </div>
            </div>
        </section>

        <section class="monitoring-info" id="monitoring">
            <div class="container">
                <h2>Monitoring Access</h2>
                <div class="info-grid">
                    <div class="info-card">
                        <h3>ðŸ“Š Grafana Dashboard</h3>
                        <p>View cluster metrics and monitoring data</p>
                        <p><strong>Access:</strong> Check deployment output for direct LoadBalancer URL</p>
                        <p><strong>Login:</strong> admin/admin</p>
                    </div>
                    <div class="info-card">
                        <h3>ðŸ“ˆ Prometheus</h3>
                        <p>Query metrics and check targets</p>
                        <p><strong>Access:</strong> Check deployment output for direct LoadBalancer URL</p>
                        <p><strong>Port:</strong> 9090</p>
                    </div>
                </div>
                <div class="url-note">
                    <p><strong>ðŸ’¡ Note:</strong> After deployment completes, run <code>./scripts/validate-deployment.sh</code> to get all component URLs</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 Veeva SRE Assignment. Built with EKS, Terraform, and Kubernetes.</p>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html> 